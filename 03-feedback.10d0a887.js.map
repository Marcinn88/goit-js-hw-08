{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,kBAC/BE,EAAUH,SAASC,cAAc,oBACjCG,EAAY,IAsBlB,WACE,MAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QA5BxB,wBA6BdJ,GACFH,EAAMQ,MAAQL,EAAUM,MACxBR,EAAQO,MAAQL,EAAUO,UAE1BV,EAAMQ,MAAQ,GACdP,EAAQO,MAAQ,G,CA3BpBG,GAEAd,EAAKe,iBAAiB,SAAS,EAAAjB,EAAAkB,WAG/B,SAAqBC,GACnBZ,EAAUY,EAAMC,OAAOC,MAAQF,EAAMC,OAAOP,MAC5CF,aAAaW,QAdK,sBAcgBb,KAAKc,UAAUhB,G,GALE,MACrDL,EAAKe,iBAAiB,UAOtB,SAAsBE,GACpBA,EAAMK,iBACN,MAAMhB,EAAYC,KAAKC,MAAMC,aAAaC,QAnBxB,wBAoBdJ,GACFiB,QAAQC,IAAIlB,GAEdW,EAAMQ,cAAcC,QACpBjB,aAAakB,WAxBK,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst STORAGE_KEY = `feedback-form-state`;\n\nconst form = document.querySelector(`.feedback-form`);\nconst email = document.querySelector(`[name=\"email\"]`);\nconst message = document.querySelector(`[name=\"message\"]`);\nconst savedData = {};\n\nafterReload();\n\nform.addEventListener('input', throttle(handleInput, 500));\nform.addEventListener('submit', handleSubmit);\n\nfunction handleInput(event) {\n  savedData[event.target.name] = event.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(savedData));\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const praseData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (praseData) {\n    console.log(praseData);\n  }\n  event.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction afterReload() {\n  const praseData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (praseData) {\n    email.value = praseData.email;\n    message.value = praseData.message;\n  } else {\n    email.value = '';\n    message.value = '';\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$email","$945622fd0f572e60$var$message","$945622fd0f572e60$var$savedData","praseData","JSON","parse","localStorage","getItem","value","email","message","$945622fd0f572e60$var$afterReload","addEventListener","throttle","event","target","name","setItem","stringify","preventDefault","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.10d0a887.js.map"}