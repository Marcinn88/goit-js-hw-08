{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAAe,sBAEfC,EAAOC,SAASC,cAAe,kBAC/BC,EAAQF,SAASC,cAAe,kBAChCE,EAAUH,SAASC,cAAe,oBAClCG,EAAY,IA0BlB,WACE,IACE,IAAMC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQX,IACzCO,GACFH,EAAMQ,MAAQL,EAAKM,MACnBR,EAAQO,MAAQL,EAAKO,UAErBV,EAAMQ,MAAQ,GACdP,EAAQO,MAAQ,G,CAElB,MAAOG,GACPC,QAAQC,IAAK,8B,EAnCjBC,GAEAjB,EAAKkB,iBAAiB,SAAS,EAAArB,EAAAsB,WAG/B,SAAoBC,GAClBf,EAAUe,EAAMC,OAAOC,MAAQF,EAAMC,OAAOV,MAC5CF,aAAac,QAAQxB,EAAaQ,KAAKiB,UAAUnB,G,GALC,MACpDL,EAAKkB,iBAAiB,UAOtB,SAAqBE,GACnBA,EAAMK,iBACN,IACE,IAAMnB,EAAOC,KAAKC,MAAMC,aAAaC,QAAQX,IACzCO,GACFS,QAAQC,IAAIV,GAEdc,EAAMM,cAAcC,QACpBlB,aAAamB,WAAW7B,E,CACxB,MAAOe,GACPC,QAAQC,IAAK,8B","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst STORAGE_KEY = `feedback-form-state`;\n\nconst form = document.querySelector(`.feedback-form`);\nconst email = document.querySelector(`[name=\"email\"]`);\nconst message = document.querySelector(`[name=\"message\"]`);\nconst savedData = {};\n\nafterReload();\n\nform.addEventListener('input', throttle(catchInput, 500));\nform.addEventListener('submit', catchSubmit);\n\nfunction catchInput(event) {\n  savedData[event.target.name] = event.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(savedData));\n}\n\nfunction catchSubmit(event) {\n  event.preventDefault();\n  try {\n    const data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (data) {\n      console.log(data);\n    }\n    event.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n  } catch (error) {\n    console.log(`Error w funkcji catchSubmit`);\n  }\n}\n\nfunction afterReload() {\n  try {\n    const data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (data) {\n      email.value = data.email;\n      message.value = data.message;\n    } else {\n      email.value = '';\n      message.value = '';\n    }\n  } catch (error) {\n    console.log(`Error w funkcji afterReload`);\n  }\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$savedData","data","JSON","parse","localStorage","getItem","value","email","message","error","console","log","$b00c40859be242c5$var$afterReload","addEventListener","throttle","event","target","name","setItem","stringify","preventDefault","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.e95a0c18.js.map"}